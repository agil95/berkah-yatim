!function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=27)}({0:function(e,t,n){"use strict";t.a=function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(t)}},1:function(e,t,n){"use strict";var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.toaster=document.querySelector(".by-toaster"),this.setText(t)}return a(e,[{key:"setText",value:function(e){this.toaster.textContent=e}},{key:"show",value:function(){var e=this;this.toaster.classList.add("active"),setTimeout(function(){e.toaster.classList.remove("active")},3e3)}}]),e}();t.a=o},2:function(e,t,n){"use strict";t.a=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}},27:function(e,t,n){e.exports=n(28)},28:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),o=n(7),r=n(1),c=n(0),i=n(2);!function(){var e=document.querySelector(".btn-zakat"),t=document.querySelector(".btn-share-zakat"),n=document.querySelector(".zakat-summary__btn-copy"),s=document.querySelector(".zakat-payment__btn"),l=document.querySelector(".by-nav__back"),u=document.querySelectorAll(".btn-zakat, .btn-share-zakat"),y=document.querySelector(".by-bottom-nav"),d=new a.a,m=document.querySelectorAll("[data-bottomsheet]"),h=document.getElementById("form-zakat"),f=document.querySelector(".by-nav__page-title"),p=document.querySelectorAll(".payment-item"),b=document.getElementById("payment-type-alert"),v=document.getElementById("section-form"),k=document.getElementById("section-payment"),w=document.querySelectorAll(".tab-pane"),g=new r.a,E=document.querySelector(".zakat-summary-nominal"),S=document.querySelector("#zakat-nominal");function A(e){Array.prototype.forEach.call(m,function(t){var n=t.getAttribute("data-bottomsheet");t.style.display=n===e?"block":"none"})}function q(e){switch(v.style.display="none",k.style.display="none",f.textContent="Zakat",l.removeAttribute("data-disabled"),y.style.display="none",e){case"payment":k.style.display="block",f.textContent="Metode Pembayaran",l.setAttribute("data-disabled","true");break;default:v.style.display="block",y.style.display="block"}}h.addEventListener("submit",function(e){document.getElementById("zakat-payment-type").value?b.style.display="none":(e.preventDefault(),b.style.display="block")}),e.addEventListener("click",function(){var e,t,n,a,o,r,c,s=document.querySelector(".tab-pane.show"),l={};switch(s.id){case"profesi":l.salary=parseInt(s.querySelector("input[name=salary]").value.replace(/\./g,""),10)||0,l.otherIncome=parseInt(s.querySelector("input[name=other]").value.replace(/\./g,""),10)||0,l.debt=parseInt(s.querySelector("input[name=debt]").value.replace(/\./g,""),10)||0}(e=l,t=e.salary,n=void 0===t?0:t,a=e.otherIncome,o=void 0===a?0:a,r=e.debt,c=void 0===r?0:r,fetch("https://sekawan.ktbs.xyz/v1/auth/zakat/calculator/profession",{method:"POST",body:JSON.stringify({monthly_income:n,other_income:o,debt:c}),headers:{"X-Client-Key":"ngo-whitelabe-zakat","X-Client-Secret":"YQ94Me2jN9QG6HxF"}})).then(function(e){return e.json()}).then(function(e){!function(e,t){t?(A("zakat-summary"),E.textContent="Rp "+Object(i.a)(e),S.textContent=e):A("zakat-empty")}(e.data[0].zakat_amount,e.data[0].more_than_nisab)}).catch(function(e){console.error("[API Error]: "+e.message),g.setText("Terjadi kesalahan saat mengambil nominal zakat"),g.show()})}),t.addEventListener("click",function(){A("share")}),n.addEventListener("click",function(){E.textContent&&(Object(c.a)(E.textContent.replace(/[^\d]*/g,"")),g.setText("Nominal zakat tersalin"),g.show())}),l.addEventListener("click",function(e){e.currentTarget.getAttribute("data-disabled")&&(d.showBottomsheet(!0),d.showOverlay(!0),q("form"))}),s.addEventListener("click",function(){d.showBottomsheet(!1),d.showOverlay(!1),q("payment")}),Array.prototype.forEach.call(w,function(t){var n=t.querySelectorAll("input[required]");Array.prototype.forEach.call(n,function(t){t.addEventListener("keyup",function(n){var a=t.closest(".tab-pane").querySelectorAll("input[required]"),o=!0;Array.prototype.forEach.call(a,function(e){e.value||(o=!1)}),o?e.removeAttribute("disabled"):e.setAttribute("disabled","true")})})}),Array.prototype.forEach.call(p,function(e){e.addEventListener("click",function(e){e.preventDefault();var t,n,a,o,r,c,i=e.currentTarget.getAttribute("data-type"),s=e.currentTarget.getAttribute("data-label"),l=e.currentTarget.getAttribute("data-image");t=i,n=s,a=l,o=document.getElementById("zakat-payment-type"),r=document.querySelector(".zakat-payment__text"),c=document.querySelector(".zakat-payment__img"),t&&n&&a?(o.value=t,r.textContent=n,c.setAttribute("src",a),c.style.display="block",b.style.display="none"):(o.value="",r.textContent="Metode Pembayaran",c.setAttribute("src",""),c.style.display="none"),d.showOverlay(!0),d.showBottomsheet(!0),A("zakat-summary"),q("form")})}),new o.a,d.setListenerElement(u)}()},6:function(e,t,n){"use strict";var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.overlay=document.querySelector(".by-overlay"),this.bottomsheet=document.querySelector(".by-bottomsheet"),this.btnClose=document.querySelectorAll(".by-bottomsheet__btn-close"),this.setListenerCloseButton()}return a(e,[{key:"showOverlay",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?(this.overlay.classList.add("active"),document.body.style.overflowY="hidden"):(this.overlay.classList.remove("active"),document.body.style.overflowY="")}},{key:"showBottomsheet",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.bottomsheet.classList.add("active"):this.bottomsheet.classList.remove("active")}},{key:"setListenerElement",value:function(e){var t=this;e.length?Array.prototype.forEach.call(e,function(e){e.addEventListener("click",function(){t.showOverlay(!0),t.showBottomsheet(!0)})}):e.addEventListener("click",function(){t.showOverlay(!0),t.showBottomsheet(!0)})}},{key:"setListenerCloseButton",value:function(){var e=this;this.btnClose&&this.btnClose.length&&Array.prototype.forEach.call(this.btnClose,function(t){t.addEventListener("click",function(){e.showOverlay(!1),e.showBottomsheet(!1)})})}}]),e}();t.a=o},7:function(e,t,n){"use strict";var a=n(0),o=n(1),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.shareItems=document.querySelectorAll(".by-bottomsheet-share-item"),this.toaster=new o.a("Link berhasil tersalin"),this.setListenerShareItem()}return r(e,[{key:"share",value:function(e,t,n){var o=void 0;switch(e){case"whatsapp":o="https://api.whatsapp.com/send?text="+n+". Untuk info lebih lanjut, klik "+t,window.open(o);break;case"fb":o="https://www.facebook.com/sharer/sharer.php?u="+t+"&quote="+n,window.open(o);break;default:Object(a.a)(t),this.toaster.show()}}},{key:"setListenerShareItem",value:function(){var e=this;Array.prototype.forEach.call(this.shareItems,function(t){t.addEventListener("click",function(){var n=t.getAttribute("data-target"),a=window.location.href,o=t.parentNode.getAttribute("data-proker-name");e.share(n,a,o)})})}}]),e}();t.a=c}});